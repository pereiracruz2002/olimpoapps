<ion-view view-title="Editar Perfil">
  <ion-content>
    <div class="button-bar bar-light">
      <a ng-click="myTab.tab=1" ng-class="myTab.tab==1 ? 'active' : ''" class="button">Conta</a>

      <a ng-show="perfil" ng-click="myTab.tab=2" ng-class="myTab.tab==2 ? 'active' : ''" class="button ">Perfil</a>
    </div>
    <div ng-show="myTab.tab==1" id="edit-account">
      <form name="formRegister" ng-submit="editar(user)" ng-hide="contentBg">
        <div class="profile">
          <div class="profile-photo" style="left: 24px; top: 24px;">
            <h1 class="select-picture" ng-click="choosePicture()" style="background-position:center center; background-size:cover; border-radius: 50%;">
              <span class="icon ion-ios-camera" ng-hide="user.picture"></span>

              <a ng-click="choosePicture()">
                <img ng-src="{{user.picture}}" alt="">
              </a>

          </div>
          <span ng-model="user.id">{{user.id}}</span>
          <div style="padding-left: 45%; top: 24px;">
            <a ng-click="choosePicture()" style="font-size: 16px; color: rgba(0, 0, 0, 0.400); text-transform: none; left: 60px">
              <b>Alterar foto</b>
            </a>
            <a ng-click="removePicture()" style="font-size: 16px; color: rgba(0, 0, 0, 0.400); text-transform: none; padding-left: 15px">
              <b>Remover</b>
            </a>
          </div>
        </div>

        <div class="list" style="top: 12px;">
          <label class="item item-input item-stacked-label">
            <span class="input-label">Nome</span>
            <input type="text" name="nome" ng-model="user.nome" placeholder="Nome" required>
            <small ng-show="formRegister.nome.$invalid && formRegister.nome.$touched" class="assertive">
              Campo Obrigatório
            </small>
          </label>
          <label class="item item-input item-stacked-label">
            <span class="input-label">Sobrenome</span>
            <input type="text" name="sobrenome" ng-model="user.sobrenome" placeholder="Sobrenome" required>
            <small ng-show="formRegister.sobrenome.$invalid && formRegister.sobrenome.$touched" class="assertive">
              Campo Obrigatório
            </small>
          </label>
          <label class="item item-input item-stacked-label">
            <span class="input-label">Email</span>
            <input type="email" name="email" ng-model="user.email" placeholder="Email" required>
            <small ng-show="formRegister.email.$invalid && formRegister.email.$touched" class="assertive">
              Campo Obrigatório
            </small>
          </label>

          <!-- <label class="item item-input item-stacked-label">
            <span class="input-label">Senha</span>
            <input ng-model="user.password" name="password" type="password" placeholder="Senha" required>
            <small ng-show="formRegister.password.$invalid && formRegister.password.$touched" class="assertive">
              Campo Obrigatório
            </small>
          </label>
          <label class="item item-input item-stacked-label">
            <span class="input-label">Repetir Senha</span>
            <input type="password" name="password2" placeholder="Repetir Senha" ng-model="user.password2" data-password-verify="formRegister.password" required>
            <small ng-show="(formRegister.password2.$invalid || formRegister.password2.$error.passwordVerify) && formRegister.password2.$touched" class="assertive">
              As senhas não são iguais!
            </small>
          </label> -->
          <label class="item item-input item-select">
            <div class="input-label">
              Sexo
            </div>
            <select ng-model="user.sexo" ng-options="sexo.name as sexo.name for sexo in Optionsexo">
            </select>
          </label>

          <label class="item item-input item-stacked-label">
            <span class="input-label">Data Nascimento</span>
            <input ng-model="user.dateFormatted" name="nascimento" type="date" format="dd/MM/yyyy" placeholder="Data Nascimento" required>
            <small ng-show="formRegister.nascimento.$invalid && formRegister.nascimento.$touched" class="assertive">
              Campo Obrigatório
            </small>
          </label>
          <!--  <label class="item item-input">
            <i class="icon ion-ios-location-outline placeholder-icon"></i>
            <input ion-autocomplete type="text" readonly="readonly" class="ion-autocomplete" autocomplete="off" ng-model="user.estado"
              item-view-value-key="formatted_address" items-method="getAddressSuggestions(query)" placeholder="Bairro, Cidade"
              max-selected-items="1" cancel-label="Cancelar" select-items-label="Selecione uma cidade" />
          </label> -->

          <label class="item item-input item-stacked-label">
            <span class="input-label">Estado</span>
            <input type="text" name="estado" ng-model="user.estado" placeholder="Estado" required>
            <small ng-show="formRegister.estado.$invalid && formRegister.estado.$touched" class="assertive">
              Campo Obrigatório
            </small>
          </label>

          <label class="item item-input item-stacked-label">
            <span class="input-label">Cidade</span>
            <input type="text" name="cidade" ng-model="user.cidade" placeholder="Cidade" required>
            <small ng-show="formRegister.cidade.$invalid && formRegister.cidade.$touched" class="assertive">
              Campo Obrigatório
            </small>
          </label>

          <button ng-disabled="formRegister.$invalid" class="button button-block button-positive register-btn" ng-click="editar(user)">Editar</button>

        </div>
      </form>
    </div>
    <div ng-show="myTab.tab==2" id="profile">
      <div class="row">
        <div class="col-80 col-offset-10 filtros">
          <div class="check-content">
            <div style="margin-top: 25px; margin-bottom: 10px;">
              <p style="position: absolute; right: 40px; font-size: 18px; color: #000; text-transform: none;">{{ (especialidades | filter:{checked: true }).length }}</p>
              <p style="font-size: 18px; color: #000; text-transform: none;">
                <b>Especialidades</b>
              </p>
              <div style="overflow:scroll; height: 300px; border:1px solid rgba(0, 0, 0, 0.200); border-radius: 5px;">
                <ion-list>
                  <ion-checkbox ng-repeat="especialidade in especialidades" ng-model="especialidades">{{especialidade}}</ion-checkbox>
                </ion-list>
              </div>
            </div>
            <label class="item item-input item-select" style="top: 10px; padding-left: 1px; border: none; color: rgba(0, 0, 0, 0.400);">
              <div class="input-label">
                <p style="font-size: 18px; color: rgba(0, 0, 0, 0.400); text-transform: none;">
                  <b>Formação</b>
                </p>
              </div>
              <select ng-model="user.formacao" style="color: rgba(0, 0, 0, 0.400);">
                <option>Ensino medio</option>
                <option selected>Superior cursando</option>
                <option>Superior completo</option>
                <option>Pos graduacao</option>
                <option>Mestrado</option>
                <option>Doutorado</option>
              </select>
            </label>

            <p style="position: absolute; right: 40px; font-size: 18px; color: #000; text-transform: none; padding-top: 25px;">
              <b>{{0 + user.descricao.length}}</b>/320</p>
            <p style="font-size: 18px; color: #000; text-transform: none; margin-top: 25px;">
              <b>Descrição</b>
            </p>
            <p>
              <textarea class="form-control" type="text" name="description_validate" ng-model="user.descricao" ng-minlength='{{valideDescricao.description_validate.minlength}}'
                ng-maxlength="{{valideDescricao.description_validate.maxlength}}" ng-required='valideDescricao.description_validate.required'
                ng-trim="false" maxlength="320" rows="10" cols="35" style="border:1px solid rgba(0, 0, 0, 0.400); border-radius: 5px; padding: 3px;">
                </textarea>
            </p>

            <p style="font-size: 18px; color: #000; text-transform: none; margin-top: 25px;">
              <b>Preço médio por treino</b>
            </p>
            <div class="row">
              <div class="col-5">
                <p style="font-size: 14px; color: #000; text-transform: none; padding: 8px;">R$</p>
              </div>
              <ionic-numberpicker input-obj="numberPickerValorMin"><input ng-model="price.valor_min" type="text" maxlength="4" size="2" style="border:1px solid rgba(0, 0, 0, 0.400); border-radius: 25px; padding: 5px; text-align:center;"
                class="inputForm" /></ionic-numberpicker>&nbsp;
              <div class="col-5">
                <p style="font-size: 14px; color: #000; text-transform: none; padding: 8px;">-</p>
              </div>
              <ionic-numberpicker input-obj="numberPickerValorMax"><input ng-model="price.valor_max" type="text" maxlength="4" size="2" style="border:1px solid rgba(0, 0, 0, 0.400); border-radius: 25px; padding: 5px; text-align:center;"
                class="inputForm" /></ionic-numberpicker>&nbsp;
            </div>
            <p style="font-size: 18px; color: #000; text-transform: none; margin-top: 25px;">
              <b>Idade</b>
            </p>
            <div class="row">
              <div class="col-5">
                <p style="font-size: 14px; color: #000; text-transform: none; padding: 8px;">De</p>
              </div>
              <ionic-numberpicker input-obj="numberPickerIdadeMin"><input ng-model="age.idade_min" type="text" maxlength="4" size="2" style="border:1px solid rgba(0, 0, 0, 0.400); border-radius: 25px; padding: 5px; text-align:center;"
                class="inputForm" /></ionic-numberpicker>&nbsp;
              <div class="col-5">
                <p style="font-size: 14px; color: #000; text-transform: none; padding: 8px;">a</p>
              </div>
              <ionic-numberpicker input-obj="numberPickerIdadeMax"><input ng-model="age.idade_max" type="text" maxlength="4" size="2" style="border:1px solid rgba(0, 0, 0, 0.400); border-radius: 25px; padding: 5px; text-align:center;"
                class="inputForm" /></ionic-numberpicker>&nbsp;
            </div>
            <p style="font-size: 18px; color: #000; text-transform: none; margin-top: 25px;">
              <b>Locais de atendimento</b>
            </p>
            <div>
              <ion-list>
                <label ng-repeat="endereco in address" style="font-size: 14px; color: rgba(0, 0, 0, 0.400); text-transform: none; padding-top: 10px;"
                  ng-model="address.name">
                  <br/>
                  {{endereco.name}}
                  <br/>
                  {{endereco.modalidade}}
                  <br/>
                  {{endereco.location}}
                  <button class="profile-icon icon ion-ios-trash custom-icon-blue" ng-click="deleteRow(bairro)"></button>
                  <br/>
                </label>
              </ion-list>
            </div>
            <div class="list list-inset" style="width: 100%; margin-left: 0;">
              <label class="item item-input" style="background-color: #e7e7e7">
                <i class="icon ion-search placeholder-icon"></i>

                <ion-google-place placeholder="Buscar Local" ng-model="location" current-location="false" location-changed="locationChangedCallback"
                />
              </label>
            </div>
            <ion-checkbox ng-model="filter.can" style="font-size: 14px; width: 100%;">
              <b>Posso atender em outros locais</b>
            </ion-checkbox>
            <button style="position: absolute; right: 32px; border: none; background: none; margin-top: 15px;" class="profile-icon icon ion-ios-plus-outline"
              ng-click="addBairro()"></button>
            <p style="font-size: 18px; color: rgba(0, 0, 0, 0.400); text-transform: none; margin-top: 25px;">
              <b>Adicionar bairro</b>
            </p>
            <div>
              <ion-list>
                <p ng-repeat="bairro in place.bairro" style="font-size: 14px; color: rgba(0, 0, 0, 0.400); text-transform: none;" ng-model="place.bairro">
                  <button class="profile-icon icon ion-ios-trash custom-icon-blue" ng-click="deleteRow(bairro)"></button>
                  {{bairro}}
                </p>
              </ion-list>
            </div>
            <div class="save-content">
              <a class="button button-block button-positive save-btn" ng-click="editar(user)">Salvar</a>
            </div>
          </div>
        </div>
      </div>
  </ion-content>
</ion-view>